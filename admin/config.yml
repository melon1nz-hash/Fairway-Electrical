# Backend: use git-gateway when deployed on Netlify (with Netlify Identity).
# For local testing without Netlify, run: npx decap-server
# and uncomment the local_backend block below.
backend:
  name: git-gateway
  branch: main

# local_backend: true   # Uncomment to use npx decap-server for local dev

# Where uploaded media is stored (relative to repo root). Your site uses /images.
media_folder: "images/uploads"
public_folder: "/images/uploads"

# Optional: custom commit messages
# slug: "{{slug}}" and similar are available in commit message templates.

collections:
  - name: "services"
    label: "Services"
    folder: "content/services"
    create: true
    slug: "{{slug}}"
    format: "frontmatter"
    extension: "md"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Description", name: "description", widget: "text" }
      - { label: "Icon", name: "icon", widget: "select", options: ["home", "building", "wrench", "lightbulb", "shield", "zap"] }

  - name: "portfolio"
    label: "Portfolio"
    folder: "content/portfolio"
    create: true
    slug: "{{year}}-{{slug}}"
    format: "frontmatter"
    extension: "md"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Category", name: "category", widget: "string" }
      - { label: "Image", name: "image", widget: "image" }
      - { label: "Description", name: "description", widget: "text" }

  - name: "testimonials"
    label: "Testimonials"
    folder: "content/testimonials"
    create: true
    slug: "{{slug}}"
    format: "frontmatter"
    extension: "md"
    fields:
      - { label: "Client Name", name: "name", widget: "string" }
      - { label: "Location", name: "location", widget: "string" }
      - { label: "Quote", name: "quote", widget: "text" }
      - { label: "Rating", name: "rating", widget: "number", min: 1, max: 5 }
